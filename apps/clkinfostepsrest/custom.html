<html>
    <head>
        <link rel="stylesheet" href="../../css/spectre.min.css">
    </head>
    <body>

        <p>Leaderboard URL: <input type="text" id="config_url" class="form-input" value="https://"></p>
        <p>Click <button id="upload" class="btn btn-primary">Upload</button></p>

        <script src="../../core/lib/customize.js"></script>

        <script>
            function readConfig(config) {
                if (config.url) {
                    document.getElementById("config_url").value = config.url;
                }
            }

            function onInit(device) {
                Util.readStorageJSON("clkinfostepsrest.json", readConfig);
            }

            // When the 'upload' button is clicked...
            document.getElementById("upload").addEventListener("click", function() {
                // get the text to add
                var text = document.getElementById("config_url").value;
                var json = {url : text};
                // send app's info (in addition to the contents of metadata.json)
                sendCustomizedApp({
                    storage:[
                        {name:"clkinfostepsrest.json", content:JSON.stringify(json)},
                    ]
                });
            });

        </script>
    </body>
</html>
